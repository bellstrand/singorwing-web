<template>
	<div class="song-edit">
		<form>
			<div class="form-group">
				<label for="name">Name</label>
				<input value.bind="song.name" type="text" id="name" autofocus />
			</div>

			<div class="form-group">
				<label for="artist">Artist</label>
				<select value.bind="song.artist" id="artist" change.delegate="setGenre(song.artist)">
					<option value="" selected>Select Artist</option>
					<option repeat.for="artist of artists" value="${artist._id}">${artist.name}</option>
				</select>
			</div>

			<div class="form-group">
				<label for="difficulty">Difficulty ${song.difficulty}</label>
				<input value.bind="song.difficulty" type="range" min="1" max="10" id="difficulty" />
			</div>

			<div class="form-group">
				<label for="album">Album</label>
				<input value.bind="song.album" type="text" id="album" />
			</div>

			<div class="form-group">
				<label for="genre">Genre</label>
				<select value.bind="song.genre" id="genre" class="capitalize">
					<option repeat.for="genre of genres">${genre}</option>
				</select>
			</div>

			<div class="form-group">
				<label for="released">Released</label>
				<input value.bind="song.released" type="number" placeholder="yyyy" id="released" />
			</div>

			<div class="form-group">
				<label for="lyrics">Lyrics</label>
				<textarea value.bind="song.lyrics" rows="10" id="lyrics"></textarea>
			</div>

			<div class="form-group">
				<button if.bind="!song._id" click.delegate="create()" class="btn btn-block btn-success create">Create</button>
				<button if.bind="song._id" click.delegate="update()" class="btn btn-success btn-left update">Update</button>
				<button if.bind="song._id" click.delegate="destroy()" class="btn btn-danger btn-right update">Delete</button>
			</div>
		</form>
	</div>
</template>
